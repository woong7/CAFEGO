{% extends 'base.html' %}
{% load static %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/rank_list.css' %}">
{% endblock %}
{% block title %}
    ë­í‚¹ë¦¬ìŠ¤íŠ¸
{% endblock %}

{% block content %}
  <section id="rank_page" class="p-4">
    <header class="pt-3 ranking_head">
        <div class="pricing-header p-2 pb-md-4 mx-auto text-center">
            <div class="page_title">Ranking</div>
            <p class="fs-5 text-muted page_info">ğŸ†ë­í‚¹ ì‚°ì • ê¸°ê°„ğŸ†<br>{{last_month_first}} ~ {{last_month_last}}</p>
        </div>
    </header>

    <div class="container px-5">

      <div class="text-center">
        <span class="monthly_rank">{{this_month}}ì›” ë­í‚¹</span>
        <hr class="rank_hr"></hr>
      </div>
      <article class="row row-cols-xxl-2 row-cols-xl-1 row-cols-lg-1 row-cols-md-1 row-cols-sm-1 mb-3 text-center">

      <!----- B_í•œ ë‹¬ ë°©ë¬¸ ë­í‚¹ ----->
      <section class="col">
        <div class="card ranking_card rounded-5 shadow mx-2 my-3">
          <div class="row g-0">
            <div class="col-md-8 card_img" style="background-image:url(../../../media/static/image/rank_coffee-beans.jpg)"></div>
            <div class="col-md-4">
              <div class="card-body">
                <div class="card-img-overlay card_title col-md-8">
                  <span class="ranking_title_back"></span>
                  <span class="ranking_title">{{ this_month }}ì›” ë°©ë¬¸ ë­í‚¹</span>
                  <!-- ì—¬ê¸°ë¶€í„° -->
                  <div id="b_topThree">
                    <!-- <span class="ranking_top"></span>
                    <div class="ranking_top_content">
                      {% for user in B_users %}
                        {% if forloop.counter > 3 %}
                        {% else %}
                          {% if forloop.counter == 1 %}
                            <div style="display: flex; justify-content: center;">
                              <i class="my-2 fas fa-medal" id="xs_gold_medal"></i>
                              <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                            </div>
                          {% elif forloop.counter == 2 %}
                              <div style="display: flex; justify-content: center;">
                                <i class="my-2 fas fa-medal" id="xs_silver_medal"></i>
                                <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                              </div>
                          {% else %}
                            <div style="display: flex; justify-content: center;">
                              <i class="my-2 fas fa-medal" id="xs_bronze_medal"></i>
                              <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                            </div>
                          {% endif %}
                        {% endif %}
                      {% endfor %}
                    </div> -->
                  </div>
                  <!-- ì—¬ê¸°ê¹Œì§€ -->
                </div>
                  
                <div>
                  <!-- JS ë§¤ë‹¬ ë§¤ê¸°ê¸° -->
                  <div class="b_giveMedal">
                  </div>
                    
                  <div class="card-text card_info my-3">
                    {{ request.user.nickname }}ë‹˜ì€<br>
                    {% if B_my_grade == 0 %}
                      ì´ë²ˆ ë‹¬ì— ë°©ë¬¸í•œ<br>ì¹´í˜ê°€ ì—†ì–´ìš”!
                    {% else %}
                      ğŸŒŸ{{ B_my_grade }}ë“±ğŸŒŸ ì…ë‹ˆë‹¤!
                    {% endif%}
                  </div>
                  
                  <!-- B_Button trigger modal -->
                  <button class="button" data-bs-toggle="modal" data-bs-target="#B_Modal">
                    ì „ì²´ ë­í‚¹
                  </button>
                  <!-- B_Modal -->
                    <div class="modal fade" id="B_Modal" tabindex="-1" aria-labelledby="B_ModalLabel" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content modal_back">
                          <div class="modal-header modal_title_group">
                            <div>
                              <i class="fas fa-trophy trophy"></i>
                              <span class="modal-title modal_title" id="A_ModalLabel"> {{ this_month }}ì›” ë­í‚¹ </span>
                              <i class="fas fa-trophy trophy"></i>
                            </div>
                          </div>
                          <div class="modal-body row mx-auto">
                          {% for user in B_users %}
                            {% if forloop.counter == 1 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_gold_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname }}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ user.visit_count_lastmonth }}íšŒ ë°©ë¬¸í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% elif forloop.counter == 2 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_silver_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ user.visit_count_lastmonth }}íšŒ ë°©ë¬¸í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% elif forloop.counter == 3 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_bronze_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ user.visit_count_lastmonth }}íšŒ ë°©ë¬¸í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% else %}
                              <div class="modal_text_group">
                                <span class="sm_other_medal">{{forloop.counter}}</span>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ user.visit_count_lastmonth }}íšŒ ë°©ë¬¸í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% endif %}
                          {% endfor %}
                          </div>
                          <div class="modal-footer">
                            <button class="button" data-bs-dismiss="modal">ë‹«ê¸°</button>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!----- E_í•œ ë‹¬ ë¦¬ë·° ê°œìˆ˜ ë­í‚¹ ----->
      <section class="col">
        <div class="card ranking_card rounded-5 shadow mx-2 my-3">
          <div class="row g-0">
            <div class="col-md-8 card_img" style="background-image:url(../../../media/static/image/rank_food-1245955_1280.jpg)"></div>
            <div class="col-md-4">
              <div class="card-body">
                <div class="card-img-overlay card_title col-md-8" style="height: 50px;">
                  <span class="ranking_title_back"></span>
                  <span class="ranking_title">{{ this_month }}ì›” ë¦¬ë·° ë­í‚¹</span>
                </div>
                <span class="ranking_top"></span>
                <div class="ranking_top_content">
                  {% for user in E_month_review_order %}
                    {% if forloop.counter > 3 %}
                    {% else %}
                      {% if forloop.counter == 1 %}
                        <div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_gold_medal"></i>
                          <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                        </div>
                      {% elif forloop.counter == 2 %}
                          <div style="display: flex; justify-content: center;">
                            <i class="my-2 fas fa-medal" id="xs_silver_medal"></i>
                            <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                          </div>
                      {% else %}
                        <div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_bronze_medal"></i>
                          <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                        </div>
                      {% endif %}
                    {% endif %}
                  {% endfor %}
                </div>
                <div>
                  <!-- ë§¤ë‹¬ ë§¤ê¸°ê¸° -->
                  <div class="e_giveMedal">
                  </div>

                  <div class="card-text card_info my-3">
                    {{ request.user.nickname }}ë‹˜ì€<br>
                    {% if E_my_grade == 0 %}
                      ì•„ì§ ì‘ì„±í•œ<br>ë¦¬ë·°ê°€ ì—†ì–´ìš”!
                    {% else %}
                      ğŸŒŸ{{ E_my_grade }}ë“±ğŸŒŸ ì…ë‹ˆë‹¤!
                    {% endif%}
                  </div>
                  
                  <!-- E_Button trigger modal -->
                  <button class="button" data-bs-toggle="modal" data-bs-target="#E_Modal">
                    ì „ì²´ ë­í‚¹
                  </button>
                  <!-- E_Modal -->
                    <div class="modal fade" id="E_Modal" tabindex="-1" aria-labelledby="E_ModalLabel" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content modal_back">
                          <div class="modal-header modal_title_group">
                            <div>
                              <i class="fas fa-trophy trophy"></i>
                              <span class="modal-title modal_title" id="A_ModalLabel"> {{ this_month }}ì›” ë­í‚¹ </span>
                              <i class="fas fa-trophy trophy"></i>
                            </div>
                          </div>
                          <div class="modal-body row mx-auto">
                          {% for user in E_month_review_order %}
                            {% if forloop.counter == 1 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_gold_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ user.review_count_lastmonth }}íšŒ ì‘ì„±í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% elif forloop.counter == 2 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_silver_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ user.review_count_lastmonth }}íšŒ ì‘ì„±í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% elif forloop.counter == 3 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_bronze_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ user.review_count_lastmonth }}íšŒ ì‘ì„±í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% else %}
                              <div class="modal_text_group">
                                <span class="sm_other_medal">{{forloop.counter}}</span>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ user.review_count_lastmonth }}íšŒ ì‘ì„±í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% endif %}
                          {% endfor %}
                          </div>
                          <div class="modal-footer">
                            <button class="button" data-bs-dismiss="modal">ë‹«ê¸°</button>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </article>
    <div class="text-center">
      <span class="monthly_rank">ëˆ„ì  ë­í‚¹</span>
      <hr class="rank_hr"></hr>
    </div>
    <article class="row row-cols-xxl-2 row-cols-xl-1 row-cols-lg-1 row-cols-md-1 row-cols-sm-1 mb-3 text-center">
      <!----- A_ì´ ë°©ë¬¸ ë­í‚¹ ----->
      <section class="col">
        <div class="card ranking_card rounded-5 shadow mx-2 my-3">
          <div class="row g-0">
            <div class="col-md-8 card_img" style="background-image:url(../../../media/static/image/rank_coffee.jpg);"></div>
            <div class="col-md-4">
              <div class="card-body">
                <div class="card-img-overlay card_title col-md-8" style="height: 50px;">
                  <span class="ranking_title_back"></span>
                  <span class="ranking_title">ì¹´í˜ ë°©ë¬¸ ë­í‚¹</span>
                </div>
                <span class="ranking_top"></span>
                <div class="ranking_top_content">
                  {% for user in A_users %}
                    {% if forloop.counter > 3 %}
                    {% else %}
                      {% if forloop.counter == 1 %}
                        <div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_gold_medal"></i>
                          <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                        </div>
                      {% elif forloop.counter == 2 %}
                          <div style="display: flex; justify-content: center;">
                            <i class="my-2 fas fa-medal" id="xs_silver_medal"></i>
                            <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                          </div>
                      {% else %}
                        <div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_bronze_medal"></i>
                          <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                        </div>
                      {% endif %}
                    {% endif %}
                  {% endfor %}
                </div>
                <div>
                  <!-- ë§¤ë‹¬ ë§¤ê¸°ê¸° -->
                  <div class="a_giveMedal">
                  </div>

                  <div class="card-text card_info my-3">
                    {{ request.user.nickname }}ë‹˜ì€<br>
                    {% if A_my_grade == 0 %}
                      ì•„ì§ ë°©ë¬¸í•œ<br>ì¹´í˜ê°€ ì—†ì–´ìš”!
                    {% else %}
                      ğŸŒŸ{{ A_my_grade }}ë“±ğŸŒŸ ì…ë‹ˆë‹¤!
                    {% endif%}
                  </div>
                  
                  <!-- A_Button trigger modal -->
                  <button class="button" data-bs-toggle="modal" data-bs-target="#A_Modal">
                    ì „ì²´ ë­í‚¹
                  </button>
                  <!-- A_Modal -->
                  <div class="modal fade" id="A_Modal" tabindex="-1" aria-labelledby="A_ModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                      <div class="modal-content modal_back">
                        <div class="modal-header modal_title_group">
                          <div>
                            <i class="fas fa-trophy trophy"></i>
                            <span class="modal-title modal_title" id="A_ModalLabel"> ì „ì²´ ë­í‚¹ </span>
                            <i class="fas fa-trophy trophy"></i>
                          </div>
                        </div>
                        <div class="modal-body row mx-auto">
                        {% for user in A_users %}
                          {% if forloop.counter == 1 %}
                            <div class="modal_text_group">
                              <i class="col-md-2 fas fa-medal sm_gold_medal"></i>
                              <span class="col col-md-10 pt-2">
                                <span class="modal_text_name">{{ user.nickname}}</span>
                                <span class="modal_text">ë‹˜! ì´ {{ user.total_visit }}íšŒ ë°©ë¬¸í–ˆì–´ìš”.</span>
                              </span>
                            </div>
                          {% elif forloop.counter == 2 %}
                            <div class="modal_text_group">
                              <i class="col-md-2 fas fa-medal sm_silver_medal"></i>
                              <span class="col col-md-10 pt-2">
                                <span class="modal_text_name">{{ user.nickname}}</span>
                                <span class="modal_text">ë‹˜! ì´ {{ user.total_visit }}íšŒ ë°©ë¬¸í–ˆì–´ìš”.</span>
                              </span>
                            </div>
                          {% elif forloop.counter == 3 %}
                            <div class="modal_text_group">
                              <i class="col-md-2 fas fa-medal sm_bronze_medal"></i>
                              <span class="col col-md-10 pt-2">
                                <span class="modal_text_name">{{ user.nickname}}</span>
                                <span class="modal_text">ë‹˜! ì´ {{ user.total_visit }}íšŒ ë°©ë¬¸í–ˆì–´ìš”.</span>
                              </span>
                            </div>
                          {% else %}
                            <div class="modal_text_group">
                              <span class="sm_other_medal">{{forloop.counter}}</span>
                              <span class="col col-md-10 pt-2">
                                <span class="modal_text_name">{{ user.nickname}}</span>
                                <span class="modal_text">ë‹˜! ì´ {{ user.total_visit }}íšŒ ë°©ë¬¸í–ˆì–´ìš”.</span>
                              </span>
                            </div>
                          {% endif %}
                        {% endfor %}
                        </div>
                        <div class="modal-footer">
                          <button class="button" data-bs-dismiss="modal">ë‹«ê¸°</button>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!----- D_ëˆ„ì  ë¦¬ë·° ê°œìˆ˜ ë­í‚¹ ----->
      <section class="col">
        <div class="card ranking_card rounded-5 shadow mx-2 my-3">
          <div class="row g-0">
            <div class="col-md-8 card_img" style="background-image:url(../../../media/static/image/rank_coffee-1209942_1280.jpg)"></div>
            <div class="col-md-4">
              <div class="card-body">
                <div class="card-img-overlay card_title col-md-8" style="height: 50px;">
                  <span class="ranking_title_back"></span>
                  <span class="ranking_title">ë¦¬ë·° ì‘ì„± ë­í‚¹</span>
                </div>
                <span class="ranking_top"></span>
                <div class="ranking_top_content">
                  {% for user in D_all_review_order %}
                    {% if forloop.counter > 3 %}
                    {% else %}
                      {% if forloop.counter == 1 %}
                        <div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_gold_medal"></i>
                          <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                        </div>
                      {% elif forloop.counter == 2 %}
                          <div style="display: flex; justify-content: center;">
                            <i class="my-2 fas fa-medal" id="xs_silver_medal"></i>
                            <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                          </div>
                      {% else %}
                        <div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_bronze_medal"></i>
                          <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                        </div>
                      {% endif %}
                    {% endif %}
                  {% endfor %}
                </div>
                <div>
                  <!-- ë§¤ë‹¬ ë§¤ê¸°ê¸° -->
                  <div class="d_giveMedal">
                  </div>

                  <div class="card-text card_info my-3">
                    {{ request.user.nickname }}ë‹˜ì€<br>
                    {% if D_my_grade == 0 %}
                      ì•„ì§ ì‘ì„±í•œ<br>ë¦¬ë·°ê°€ ì—†ì–´ìš”!
                    {% else %}
                      ğŸŒŸ{{ D_my_grade }}ë“±ğŸŒŸ ì…ë‹ˆë‹¤!
                    {% endif%}
                  </div>
                  
                  <!-- D_Button trigger modal -->
                  <button class="button" data-bs-toggle="modal" data-bs-target="#D_Modal">
                    ì „ì²´ ë­í‚¹
                  </button>
                  <!-- D_Modal -->
                    <div class="modal fade" id="D_Modal" tabindex="-1" aria-labelledby="D_ModalLabel" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content modal_back">
                          <div class="modal-header modal_title_group">
                            <div>
                              <i class="fas fa-trophy trophy"></i>
                              <span class="modal-title modal_title" id="A_ModalLabel"> ì „ì²´ ë­í‚¹ </span>
                              <i class="fas fa-trophy trophy"></i>
                            </div>
                          </div>
                          <div class="modal-body row mx-auto">
                          {% for user in D_all_review_order %}
                            {% if forloop.counter == 1 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_gold_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ user.total_review }}íšŒ ì‘ì„±í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% elif forloop.counter == 2 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_silver_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ user.total_review }}íšŒ ì‘ì„±í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% elif forloop.counter == 3 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_bronze_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ user.total_review }}íšŒ ì‘ì„±í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% else %}
                              <div class="modal_text_group">
                                <span class="sm_other_medal">{{forloop.counter}}</span>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ user.total_review }}íšŒ ì‘ì„±í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% endif %}
                          {% endfor %}
                          </div>
                          <div class="modal-footer">
                            <button class="button" data-bs-dismiss="modal">ë‹«ê¸°</button>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>


      <!----- C_í•œë‹¬ ì¹´í˜ ì¢…ë¥˜ ë­í‚¹ ----->
      <section class="col">
        <div class="card ranking_card rounded-5 shadow mx-2 my-3">
          <div class="row g-0">
            <div class="col-md-8 card_img" style="background-image:url(../../../media/static/image/rank_coffee2.jpg)"></div>
            <div class="col-md-4">
              <div class="card-body">
                <div class="card-img-overlay card_title col-md-8" style="height: 50px;">
                  <span class="ranking_title_back"></span>
                  <span class="ranking_title">ì¹´í˜ ì¢…ë¥˜ ë­í‚¹</span>
                </div>
                <span class="ranking_top"></span>
                <div class="ranking_top_content">
                  {% for key, value in C_monthly_kinds_order.items %}
                    {% if forloop.counter > 3 %}
                    {% else %}
                      {% if forloop.counter == 1 %}
                        <div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_gold_medal"></i>
                          <div>{{ forloop.counter }}ë“± {{ key }}</div>
                        </div>
                      {% elif forloop.counter == 2 %}
                          <div style="display: flex; justify-content: center;">
                            <i class="my-2 fas fa-medal" id="xs_silver_medal"></i>
                            <div>{{ forloop.counter }}ë“± {{ key }}</div>
                          </div>
                      {% else %}
                        <div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_bronze_medal"></i>
                          <div>{{ forloop.counter }}ë“± {{ key }}</div>
                        </div>
                      {% endif %}
                    {% endif %}
                  {% endfor %}
                </div>
                <div>
                  <!-- ë§¤ë‹¬ ë§¤ê¸°ê¸° -->
                  <div class="c_giveMedal">
                  </div>

                  <div class="card-text card_info my-3">
                    {{ request.user.nickname }}ë‹˜ì€<br>
                    {% if C_my_grade == 0 %}
                      ì•„ì§ ë°©ë¬¸í•œ<br>ì¹´í˜ê°€ ì—†ì–´ìš”!
                    {% else %}
                      ğŸŒŸ{{ C_my_grade }}ë“±ğŸŒŸ ì…ë‹ˆë‹¤!
                    {% endif%}
                  </div>
                  
                  <!-- C_Button trigger modal -->
                  <button class="button" data-bs-toggle="modal" data-bs-target="#C_Modal">
                    ì „ì²´ ë­í‚¹
                  </button>
                  <!-- C_Modal -->
                    <div class="modal fade" id="C_Modal" tabindex="-1" aria-labelledby="C_ModalLabel" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content modal_back">
                          <div class="modal-header modal_title_group">
                            <div>
                              <i class="fas fa-trophy trophy"></i>
                              <span class="modal-title modal_title" id="A_ModalLabel"> {{ this_month }}ì›” ë­í‚¹ </span>
                              <i class="fas fa-trophy trophy"></i>
                            </div>
                          </div>
                          <div class="modal-body row mx-auto">
                          {% for key, value in C_monthly_kinds_order.items %}
                            {% if forloop.counter == 1 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_gold_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ key }}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ value }}ì¢…ë¥˜ ë°©ë¬¸í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% elif forloop.counter == 2 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_silver_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ key }}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ value }}ì¢…ë¥˜ ë°©ë¬¸í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% elif forloop.counter == 3 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_bronze_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ key }}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ value }}ì¢…ë¥˜ ë°©ë¬¸í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% else %}
                              <div class="modal_text_group">
                                <span class="sm_other_medal">{{forloop.counter}}</span>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ key }}</span>
                                  <span class="modal_text">ë‹˜! ì´ {{ value }}ì¢…ë¥˜ ë°©ë¬¸í–ˆì–´ìš”.</span>
                                </span>
                              </div>
                            {% endif %}
                          {% endfor %}
                          </div>
                          <div class="modal-footer">
                            <button class="button" data-bs-dismiss="modal">ë‹«ê¸°</button>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>



      <!----- F_íŒ”ë¡œì›Œìˆ˜ ë­í‚¹ ----->
      <section class="col">
        <div class="card ranking_card rounded-5 shadow mx-2 my-3">
          <div class="row g-0">
            <div class="col-md-8 card_img" style="background-image:url(../../../media/static/image/rank_coffee-1209942_1280.jpg)"></div>
            <div class="col-md-4">
              <div class="card-body">
                <div class="card-img-overlay card_title col-md-8" style="height: 50px;">
                  <span class="ranking_title_back"></span>
                  <span class="ranking_title">íŒ”ë¡œì›Œ ìˆ˜ ë­í‚¹</span>
                </div>
                <span class="ranking_top"></span>
                <div class="ranking_top_content">
                  {% for user in F_follwer_order %}
                    {% if forloop.counter > 3 %}
                    {% else %}
                      {% if forloop.counter == 1 %}
                        <div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_gold_medal"></i>
                          <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                        </div>
                      {% elif forloop.counter == 2 %}
                          <div style="display: flex; justify-content: center;">
                            <i class="my-2 fas fa-medal" id="xs_silver_medal"></i>
                            <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                          </div>
                      {% else %}
                        <div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_bronze_medal"></i>
                          <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
                        </div>
                      {% endif %}
                    {% endif %}
                  {% endfor %}
                </div>
                <div>
                  <!-- ë§¤ë‹¬ ë§¤ê¸°ê¸° -->
                  <div class="f_giveMedal">
                  </div>

                  <div class="card-text card_info my-3">
                    {{ request.user.nickname }}ë‹˜ì€<br>
                    {% if F_my_grade == 0 %}
                      ì•„ì§ íŒ”ë¡œì›Œê°€<br>ì—†ì–´ìš”!
                    {% else %}
                      ğŸŒŸ{{ F_my_grade }}ë“±ğŸŒŸ ì…ë‹ˆë‹¤!
                    {% endif%}
                  </div>
                  
                  <!-- F_Button trigger modal -->
                  <button class="button" data-bs-toggle="modal" data-bs-target="#F_Modal">
                    ì „ì²´ ë­í‚¹
                  </button>
                  <!-- F_Modal -->
                    <div class="modal fade" id="F_Modal" tabindex="-1" aria-labelledby="F_ModalLabel" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content modal_back">
                          <div class="modal-header modal_title_group">
                            <div>
                              <i class="fas fa-trophy trophy"></i>
                              <span class="modal-title modal_title" id="A_ModalLabel"> ì „ì²´ ë­í‚¹ </span>
                              <i class="fas fa-trophy trophy"></i>
                            </div>
                          </div>
                          <div class="modal-body row mx-auto">
                          {% for user in F_follwer_order %}
                            {% if forloop.counter == 1 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_gold_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì¹œêµ¬ê°€ {{ user.follwernum }}ëª…ì´ì—ìš”.</span>
                                </span>
                              </div>
                            {% elif forloop.counter == 2 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_silver_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì¹œêµ¬ê°€ {{ user.follwernum }}ëª…ì´ì—ìš”.</span>
                                </span>
                              </div>
                            {% elif forloop.counter == 3 %}
                              <div class="modal_text_group">
                                <i class="col-md-2 fas fa-medal sm_bronze_medal"></i>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì¹œêµ¬ê°€ {{ user.follwernum }}ëª…ì´ì—ìš”.</span>
                                </span>
                              </div>
                            {% else %}
                              <div class="modal_text_group">
                                <span class="sm_other_medal">{{forloop.counter}}</span>
                                <span class="col col-md-10 pt-2">
                                  <span class="modal_text_name">{{ user.nickname}}</span>
                                  <span class="modal_text">ë‹˜! ì¹œêµ¬ê°€ {{ user.follwernum }}ëª…ì´ì—ìš”.</span>
                                </span>
                              </div>
                            {% endif %}
                          {% endfor %}
                          </div>
                          <div class="modal-footer">
                            <button class="button" data-bs-dismiss="modal">ë‹«ê¸°</button>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>      

      </article>
    </div>
  </section>

<script type="text/javascript">
  //----------------------ë³€ìˆ˜ë“¤ ëª¨ìŒ----------------------------
  const aGrade = {{ A_my_grade | safe }};
  const bGrade = {{ B_my_grade | safe }};
  const cGrade = {{ C_my_grade | safe }};
  const dGrade = {{ D_my_grade | safe }};
  const eGrade = {{ E_my_grade | safe }};
  const fGrade = {{ F_my_grade | safe }};

  // const aOder = {{ A_users | safe }};
  // const bOder = "{{ B_users_js }}";
  // const bOder = JSON.parse("{{ B_users_js | escapejs }}");
  // console.log(bOder);
  //const aOder = <QuerySet [<User: admin>, <User: ye1>]>; ì´ë ‡ê²Œ ë‚˜ì™€ì—¼
  // const bOder = {{ B_users | safe }};
  // const cOder = {{ C_monthly_kinds_order | safe }};
  // const dOder = {{ D_all_review_order | safe }};
  // const eOder = {{ E_month_review_order | safe }};
  // const fOder = {{ F_follwer_order | safe }};

  //---------------------ë­í‚¹ ì¹´ë“œì— top3 í‘œì‹œí•˜ê¸°------------------
  //ì•„ì´ë”” í˜•íƒœ b_topThree/ order=aOder
  function topThree(id, order) {
    $(id).append(`<span class="ranking_top"></span>
                  <div class="ranking_top_content">`); //ê¸°ë³¸ìœ¼ë¡œ ë‹¤ ë“¤ì–´ê°
    
    for (var i=0; i<order.length; i++) {
      if (i>3) {
        break 
      } else {
        if (i===1) { //{{ user.nickname }}ì–´ì¼€ ì²˜ë¦¬í•¨??ã…œã…œ
          $(id).append(`<div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_gold_medal"></i>
                          <div>1ë“± {{ user.nickname }}</div> 
                        </div>`);
        } else if (i===2) {
          $(id).append(`<div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_silver_medal"></i>
                          <div>2ë“± {{ user.nickname }}</div>
                        </div>`);
        } else {
          $(id).append(`<div style="display: flex; justify-content: center;">
                          <i class="my-2 fas fa-medal" id="xs_bronze_medal"></i>
                          <div>3ë“± {{ user.nickname }}</div>
                        </div>`);
        }
      }
    }
    $(id).append(`</div>`);
    console.log(aOder)
  }
  // <span class="ranking_top"></span>//ì¼ë‹¨ í•¨
  // <div class="ranking_top_content">//ì¼ë‹¨ í•¨
  //   {% for user in B_users %}
  //     {% if forloop.counter > 3 %}
  //     {% else %}
  //       {% if forloop.counter == 1 %}
  //         <div style="display: flex; justify-content: center;">
  //           <i class="my-2 fas fa-medal" id="xs_gold_medal"></i>
  //           <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
  //         </div>//ì¼ë‹¨ ì—¬ê¸°ê¹Œì§€í•¨
  //       {% elif forloop.counter == 2 %}
  //           <div style="display: flex; justify-content: center;">
  //             <i class="my-2 fas fa-medal" id="xs_silver_medal"></i>
  //             <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
  //           </div>
  //       {% else %}
  //         <div style="display: flex; justify-content: center;">
  //           <i class="my-2 fas fa-medal" id="xs_bronze_medal"></i>
  //           <div>{{ forloop.counter }}ë“± {{ user.nickname }}</div>
  //         </div>
  //       {% endif %}
  //     {% endif %}
  //   {% endfor %}
  // </div>

  //-----------------ë­í‚¹ ì¹´ë“œì— ë©”ë‹¬ ë§¤ê²¨ ë„£ê¸°-------------------
  function giveMedal(grade, id) {
    if (grade === 1) {
      $(id).append('<i class="my-2 fas fa-medal gold_medal"></i>');
    } else if (grade === 2) {
      $(id).append('<i class="my-2 fas fa-medal silver_medal"></i>');
    } else if (grade === 3) {
      $(id).append('<i class="my-2 fas fa-medal bronze_medal"></i>');
    } else {
      $(id).append('<i class="my-2 fas fa-coffee other_medal"></i>');
    }
  }
  
  giveMedal(aGrade, '.a_giveMedal');
  giveMedal(bGrade, '.b_giveMedal');
  giveMedal(cGrade, '.c_giveMedal');
  giveMedal(dGrade, '.d_giveMedal');
  giveMedal(eGrade, '.e_giveMedal');
  giveMedal(fGrade, '.f_giveMedal');


</script>

{% endblock %}